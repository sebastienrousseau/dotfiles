#!/usr/bin/env bash

# Core Aliases â€” Eager Load (Generated by Chezmoi)
# These are lightweight, high-frequency aliases loaded at shell startup.
if [ -n "${BASH_VERSION:-}" ]; then
  shopt -s expand_aliases
fi

{{ $coreCategories := list "cd" "clear" "configuration" "default" "diagnostics" "editor" "git" "interactive" "installer" "mkdir" "modern" "ps" "sudo" "compliance" -}}
{{ $globPattern := joinPath .chezmoi.sourceDir ".chezmoitemplates/aliases/**/*.aliases.sh" -}}
{{ $files := glob $globPattern -}}
{{ range $files -}}
  {{ $name := . -}}
  {{ $isCore := false -}}
  {{ range $coreCategories -}}
    {{ if contains (printf "/%s/" .) $name -}}
      {{ $isCore = true -}}
    {{ end -}}
  {{ end -}}
  {{ if and $isCore (not (contains "/macOS/" $name)) }}
{{ include $name }}
  {{ end -}}
{{ end }}

# OS-Specific Core Aliases

## macOS
{{- if eq .chezmoi.os "darwin" }}
  {{- $macGlobPattern := joinPath .chezmoi.sourceDir ".chezmoitemplates/aliases/macOS/*.aliases.sh" }}
  {{- $macFiles := glob $macGlobPattern }}
  {{- range $macFiles }}
    {{- include . }}
    {{- "\n" }}
  {{- end }}
{{- end }}
