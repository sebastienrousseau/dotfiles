#!/usr/bin/env bash

# Tool-Specific Aliases â€” Lazy Load (Generated by Chezmoi)
# These are loaded after the first prompt via precmd hook to keep startup fast.
if [ -n "${BASH_VERSION:-}" ]; then
  shopt -s expand_aliases
fi

{{ $coreCategories := list "cd" "clear" "configuration" "default" "diagnostics" "editor" "git" "interactive" "installer" "mkdir" "modern" "ps" "sudo" "compliance" -}}
{{ $globPattern := joinPath .chezmoi.sourceDir ".chezmoitemplates/aliases/**/*.aliases.sh" -}}
{{ $files := glob $globPattern -}}
{{ range $files -}}
  {{ $name := . -}}
  {{ $isCore := false -}}
  {{ $isHerokuSubmodule := and (contains "/heroku/" $name) (contains "heroku-" (base $name)) -}}
  {{ range $coreCategories -}}
    {{ if contains (printf "/%s/" .) $name -}}
      {{ $isCore = true -}}
    {{ end -}}
  {{ end -}}
  {{ if and (not $isCore) (not (contains "/macOS/" $name)) (not $isHerokuSubmodule) }}
{{ include $name }}
  {{ end -}}
{{ end }}
